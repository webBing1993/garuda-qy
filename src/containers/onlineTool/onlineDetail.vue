<template>  <div class="onlineDetail">    <group>      <cell  :title=detail.hotelName  link="/onlineTool/hotelBasicInfo" value="编辑基本信息"></cell>    </group>    <div class="synchBtn" >      <p>同步酒店房号</p>      <h6>上次同步时间：{{datetimeparse(1524552515,'YYMMDDhhmmss')}}</h6>    </div>    <div class="detailPeople" >      <div class="title">人员</div>      <div class="cellBox"v-for="(item,index) in peopleList">        <i class="iconfont icon-shanchu-yuan-tianchong" @click="delPeople(index)"></i>        <input type="text" @blur='blurInput(item)' class="input1" v-model="item.userName" height="1.5rem" placeholder="请输入名字">        <input type="text" @blur='blurInput(item)' v-model="item.mobilePhone" align="right" height="1.5rem" pattern="[0-9]" placeholder="请输入电话号码">        <i class="iconfont" :class="{'icon-roundcheckfill':item.checked}"></i>      </div>      <div class="cellBox">        <i slot="icon"  class="iconfont icon-zengjia-yuan-tianchong" @click="addPeople"></i>        <span>添加成员</span>      </div>    </div>    <group title="设备">      <cell :title=item.deviceName :value="item.deviceSn" v-for="(item,index) in deviceList" :key="index">        <i slot="icon"  class="iconfont icon-shanchu-yuan-tianchong" @click="delDevice(index)"></i>      </cell>      <cell title="添加设备" link='/onlineTool/onlineDevice'>        <i slot="icon"  class="iconfont icon-zengjia-yuan-tianchong"></i>      </cell>    </group>    <div class="bottonGroup">返回列表</div>  </div></template><script>  import {mapActions,mapState} from 'vuex'  import {Cell,Group,XInput} from 'vux'  export default {      components:{          Cell,          Group,          XInput      },      data(){          return{              peopleList:[                  {userName:'佳玲',mobilePhone:'1358765578'},                  {userName:'陈遇邦',mobilePhone:'13453352552'}              ],              deviceList:[                  {deviceName:'底座一',deviceSn:'7645321345'}              ],              detail:{}          }      },      computed:{          ...mapState([              'searchHotelId'          ])      },      watch:{          searchHotelId(){              this.getHotelDetail();          }      },      methods:{          ...mapActions([              'goto',              'searchHotelDetail',              'addHotelMember'          ]),          blurInput(item){              console.log('失去焦点')              this.peopleList.forEach((i,index)=>{                  if(typeof i.checked == 'undefined'){                      this.$set(item,'checked',false);                  }              })              if(item.userName!==''&&item.mobilePhone!==''){                  item.checked=true;                  this.addHotelPeople(item)              }else {                  item.checked=false;              }          },          delPeople(index){              this.peopleList.splice(index,1)          },          addPeople(){              this.peopleList.push({userName:'',mobilePhone:''})          },          delDevice(index){              this.deviceList.splice(index,1)          },          editHotelInfo(){          },          getHotelDetail(){              this.searchHotelDetail({                  hotelId:this.searchHotelId,                  onsuccess:(body)=>{                      this.detail=body.data;                  }              })          },          addHotelPeople(item){              this.addHotelMember({              data:{                  "hotelId":this.searchHotelId ,//酒店id                  "userName":item.userName, // 酒店人员                  "mobilePhone":item.mobilePhone, //手机              },              onsuccess:(body)=>{              }              })          }      },      mounted(){          // this.getHotelDetail()       }  }</script><style lang="less" scoped>  @import "index.less"; .icon-shanchu-yuan-tianchong{   margin-right: 1rem;   color: #e51324; }  .icon-zengjia-yuan-tianchong{    margin-right: 1rem;    color: #40c50f;  }  .icon-roundcheckfill{    color: #1fa5ff;  }</style>