<template>  <div class="hotelBasicInfo">    <group gutter="0">      <selector title="设备类型" v-model="deviceType":options="arealist" direction="rtl" placeholder='请选择设备类型' placeholder-align="right" text-align="right"></selector>      <x-input title="设备名称" v-model="deviceName" placeholder='请输入设备名称' placeholder-align="right" text-align="right"></x-input>      <!--<cell title="设备序列号" v-model="macAddress" placeholder-align="right" text-align="right" @click.native="scanQRcode">-->        <!--<i slot="default"  class="iconfont icon-erweima"></i>-->      <!--</cell>-->      <x-input title="设备序列号" v-model="deviceSn" placeholder-align="right" text-align="right" @click.native="scanQRcode">        <i slot="default"  class="iconfont icon-erweima"></i>      </x-input>      <x-input title="电脑MAC地址" v-model="macAddress" placeholder='接受信息电脑MAC地址' placeholder-align="right" text-align="right"></x-input>    </group>    <p class="bottonGroup" @click="conFirm">确定</p>  </div></template><script>    import { XInput,XSwitch,Selector,Cell,Group} from 'vux';    import { mapActions,mapState} from 'vuex';    import wx from 'weixin-js-sdk';    export default {        components: {            XInput,            XSwitch,            Selector,            Cell,            Group        },        data(){            return{                arealist:[{key: '31', value: '底座'}, {key: '41', value: '广告机'}],                deviceType:'',                deviceName:'',                deviceSn:'',                macAddress:''            }        },        computed:{            ...mapState([                'searchHotelId'            ])        },        methods:{            ...mapActions([                'addDevice',                'goto'            ]),            back(){            },            conFirm(){                this.addDevice({                    data:{                        "hotelId":this.searchHotelId,  //酒店ID                        "deviceType":this.deviceType,  //设备类型                        "deviceName":this.deviceName,  //设备名称                        "deviceId":this.deviceSn, // 设备sn 号                        "macAddress":this.macAddress //mac 地址                    },                    onsuccess:body=>{                        this.goto('/onlineTool/onlineDetail')                    }                })            },            scanQRcode(){                wx.scanQRCode({                    desc: 'scanQRCode desc',                    needResult: 1, // 默认为0，扫描结果由企业微信处理，1则直接返回扫描结果，                    scanType: ["qrCode", "barCode"], // 可以指定扫二维码还是一维码，默认二者都有["qrCode", "barCode"]                    success: function(res) {                        this.deviceSn=res                        console.log('res:',res)                        // 回调                    },                    error: function(res) {                        console.log('errorRes:',res)                        if (res.errMsg.indexOf('function_not_exist') > 0) {                            alert('版本过低请升级')                        }                    }                });            },        }    }</script><style lang="less" scoped>  @import './index.less';  .icon-erweima{    color: #4660c7;  }</style>